#!/bin/zsh

action=$1
export dotdir=~/.dotfiles

if [[ "$action" == "" ]]; then
    echo "Please inform 'init' or 'update'"
    exit
fi


if [[ $action == 'init' ]]; then
    
    # Giving executing permition for all bin/* files
    chmod +x bin/*

    for file in $dotdir/**/init.zsh
    do
        chmod +x $file
        echo ""
        echo "Initing $file"
        $file
    done

    echo "Init Done !"
    exit
fi


if [[ $action == 'update' ]]; then

    for file in $dotdir/**/update.zsh
    do
        chmod +x $file
        $file
    done

    exit
fi

echo "Invalid argument $1. Valid options: init, update"